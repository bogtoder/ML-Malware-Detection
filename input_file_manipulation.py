import data_source
import os


def get_file_contents(name):
    with open(name, 'rb') as file:
        return file.readlines()


def get_file_data(num=data_source.num_files):
    labels = []

    with open(data_source.train_labels) as labels_file:
        labels_file.readline()  # discard header

        for i in range(num):
            row = labels_file.readline().split(',')

            file_name = row[0].replace("\"", "")
            malware_id = int(row[1])
            file_contents = get_file_contents(os.path.join(data_source.train_data, file_name + ".bytes"))

            labels.append((file_name, malware_id, file_contents))

    return labels


one_file = get_file_data(1)
print(one_file[0][2][-1])
print(one_file[0][2][3])
