from collections import Counter

import numpy as np


def create_byte_histograms(hex_values, debug=False):
    if debug:
        print(f"\thex values:")
        print(hex_values)
    values = [int(hex_val, 16) for hex_val in hex_values]

    # for val in hex_values:
    #     # count the occurrences of each byte value
    #     byte_counts = Counter(val)
    #
    #     # convert the byte counts to a list of 256 elements
    #     histogram = [byte_counts.get('{:02x}'.format(i), 0) for i in range(256)]
    #     byte_histograms.append(histogram)

    counter = Counter(values)
    byte_histograms = [counter[i] for i in range(256)]

    return np.array(byte_histograms)
